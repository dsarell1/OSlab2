# OSlab2 -- Banker's Algorithm -- Dylan Sarell -- 11/17/22

This is my Second Lab Assignment for My Operating Systems class and I do not think this lab was as hard as the first one. For this Assignment the goal was to create and ultialize banker's Algorithm to solve the Deadlock problem; it was to also input the specific values we were given from the table via an input file. (bankersInput.txt) Banker's Algorithm is used for deadlock Avoidance and to find the safe sequence of processes to complete without the system deadlocking. A Safe System means that there is no deadlock, where two processes are locked because one process has the recource of a another running process and that process has a resource that one is waiting for. When a system is unsafe, then a deadlock exists between the processes and resources provided. 

For Banker's Alogorithm There are 4 Important data structures that are needed. Allocation, Max, Available, and Need. Allocation is a Matrix of the number of resources that had already been allocated to each process. Max is a Matrix of the maximum number of resources that may be allocated to each process. Available is a vector or array of available instances of each resource. Finally, Need is a Matrix of the Max Matrix minus the Allocation Matrix, a Matrix of the number of resources that are needed for the process to complete.

In my Program I first take data from an Input file (called bankersInput.txt), which has all the values of the Allocation Matrix, Max Matrix, and the Available array. My Program only works if you provide the name of the input file on the console. It reads the Allocation Matrix into a 2-Dimensional array (Matrix), by using fscanf and a nested for loop; I also print out each value of the Allocation Matrix to the console. I do the same for the Max Matrix and also output each item to the console. I also do the same for the Available array but only use one for loop, and output them. After I get the input, I close the pointer to a FILE, that I opened to the the address of the input file. Next I make the safety algorithim and create two vectors/arrays called Finish and Answer. Finish is initalized to all 0's to the length of the amount of processes. This is because none of the processes are finished yet. (0 = False = not Finished). Answer is an array that would be used to store the correct order of processes to complete. Next I Initalize the Need Matrix by using a nested for loop to go through and input the values by subtracting the Allocation Matrix from the Max Matrix. 

# The Safety Algorithm goes like this:

First I created a 2 for loops to go through the number of processes. Next I have an if-statement to check if that process is not finished. If the process is not finished then I check if it can be finished. I use another for loop to go through each resource for that process; I use a if-statement to see if that process requires more resources than that are available. If the process requires more resources than there is available the process can not finish and a variable flag would be set to 1. Then it will go to the next process to repeat the process. If process requires less resources than there are available, then the Process can finish and flag stays at 0. Then it statisfies the condition in the next if-statement. Inside the if-statement, Answer the array is filled with what number Process finished. Then all the resources that have been allocated to that process are added to the Available array by use of a for loop. Finally, I update the finish array of what ever process number index to 1 to indicate that the process is finsihed. This will repeat as many times as needed, until all processes are finished.

The Last part of the program outputs the data. It first checks if there are any processes which did not finish during the safety algortihm; the system is therefore in a unsafe state and a deadlock exists (Could not be avoided). So this info would be outputted to the console and will exit the program. If there are not processes that are unfinished then we output the system is safe and the safe sequence. It will print out the answer array via a for loop, and this would be sequence to complete the processes without encountering a deadlock. 

# Example
The Example system that is porvided has 5 processes (P0, P1, P2, P3, P4), 3 resource types (A, B, C) and the following Allocation Matrix, Max Matrix and Available Vector:

![bankersInput txt - dsarell1  SSH_ wasp cs kent edu  - Visual Studio Code 11_17_2022 8_21_48 PM](https://user-images.githubusercontent.com/116117025/202594873-827b638a-b88b-4603-a2c8-404b8ed8f659.png)

This System is in a Safe State because by using Banker's Algorithm and the Safety Algorithm are able to determine a safe sequence to complete the processes in. The safe sequence is on the bottom of the picture, which goes P1 -> P3 -> P4 -> P0 -> P2. No Deadlock would be encountered if you complete the Processes in this order. 

# Conclusion
